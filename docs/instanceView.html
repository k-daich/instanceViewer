<!DOCTYPE html>
<html>

<head>
    <style>
        :root {
        --baseColor: #363636;
        /* this color is dynamic set by javascript */
        --baseColor_bg: #dddddd;
        /* this color is dynamic set by javascript */
        --rightUpColor: #e6b2c0;
        /* this color is dynamic set by javascript */
        --FixedColTblRight_x: 100px;
        --FixedTheadTblBottom_y: 200px;
        --columnWidth_0: 110px;
        --columnWidth_1: 120px;
        --columnWidth_2: 130px;
        --columnWidth_3: 140px;
        --columnWidth_4: 150px;
        --columnWidth_5: 160px;
    }

    .oneColumnTble {
        top : var(--FixedTheadTblBottom_y);
    }

    .col_0 {
        left: var(--FixedColTblRight_x);
        width : 100px; /** reWriten by js */
    }

    .col_1 {
        left: calc(var(--FixedColTblRight_x) + var(--columnWidth_0));
        top : var(--FixedTheadTblBottom_y);
        width : 100px; /** reWriten by js */
    }

    .col_2 {
        left: calc(var(--FixedColTblRight_x) + var(--columnWidth_0) + var(--columnWidth_1));
        top : var(--FixedTheadTblBottom_y);
        width : 100px; /** reWriten by js */
    }

    .col_3 {
        left: calc(var(--FixedColTblRight_x) + var(--columnWidth_0) + var(--columnWidth_1) + var(--columnWidth_2));
        top : var(--FixedTheadTblBottom_y);
        width : 100px; /** reWriten by js */
    }

    .col_4 {
        left: calc(var(--FixedColTblRight_x) + var(--columnWidth_0) + var(--columnWidth_1) + var(--columnWidth_2) + var(--columnWidth_3));
        top : var(--FixedTheadTblBottom_y);
        width : 100px; /** reWriten by js */
    }

    .col_5 {
        left: calc(var(--FixedColTblRight_x) + var(--columnWidth_0) + var(--columnWidth_1) + var(--columnWidth_2) + var(--columnWidth_3) + var(--columnWidth_4));
        top : var(--FixedTheadTblBottom_y);
        width : 100px; /** reWriten by js */
    }

    .col_6 {
        left: calc(var(--FixedColTblRight_x) + var(--columnWidth_0) + var(--columnWidth_1) + var(--columnWidth_2) + var(--columnWidth_3) + var(--columnWidth_4) + var(--columnWidth_5));
        width : 100px; /** reWriten by js */
    }

    .oneColumnTble {
        position: absolute;
        transition: 0.7s;
    }

    html {
        color: var(--baseColor);
        background: var(--baseColor_bg);
    }

    table {
        position : absolute;
    }

    td,th {
        border-style: solid;
        padding: 0px 10px;
        text-align : center;
    }

    .theadTbl {
        position: fixed;
        top: 10px;
    }

    .dynamicTable tr:nth-of-type(2n) {
        background-color: #eaeae0;
    }

    </style>
</head>
<body>
<main>
    <table class="theadTbl col_0">
        <th>
            No
        </th>
    </table>
    <table class="theadTbl col_1">
        <th>
            インスタンス名
        </th>
    </table>
    <table class="theadTbl col_2">
        <th>
            DB向き先
        </th>
    </table>
    <table class="theadTbl col_3">
        <th>
            環境予約者
        </th>
    </table>
    <table class="theadTbl col_4">
        <th>
            案件名
        </th>
    </table>
    <table class="fixTbl oneColumnTble col_0">
        <tr>
            <td>
                1
            </td>
        </tr>
        <tr>
            <td>
                2
            </td>
        </tr>
        <tr>
            <td>
                3
            </td>
        </tr>
        <tr>
            <td>
                4
            </td>
        </tr>
    </table>
    <table class="fixTbl oneColumnTble col_1">
        <tr>
            <td>
                myapl
            </td>
        </tr>
        <tr>
            <td>
                myapl_dev1
            </td>
        </tr>
        <tr>
            <td>
                myapl_dev2
            </td>
        </tr>
        <tr>
            <td>
                myapl_dev3
            </td>
        </tr>
    </table>
    <table class="oneColumnTble col_2 movableTbl">
        <tr>
            <td>
                content
            </td>
        </tr>
        <tr>
            <td>
                dev
            </td>
        </tr>
        <tr>
            <td>
                itb
            </td>
        </tr>
        <tr>
            <td>
                stage
            </td>
        </tr>
    </table>
    <table class="oneColumnTble col_3 movableTbl">
        <tr>
            <td>
                daichi
            </td>
        </tr>
        <tr>
            <td>
                hiro
            </td>
        </tr>
        <tr>
            <td>
                yoko
            </td>
        </tr>
        <tr>
            <td>
                chika
            </td>
        </tr>
    </table>
    <table class="oneColumnTble col_4 movableTbl">
        <tr>
            <td>
                サイトリニューアル案件Ph8
            </td>
        </tr>
        <tr>
            <td>
                DB更改
            </td>
        </tr>
        <tr>
            <td>
                エントリー即時化対応Ph２
            </td>
        </tr>
        <tr>
            <td>
                電子化対応_リカバリ自動化
            </td>
        </tr>
    </table>
</main>
    <script type="text/javascript">
    /* 定数定義 */
    const JSFILE_DATA = "js/data.js";
    const STORAGE_KEY_HIDDEN_COULUMNS = 'hiddenColumns';
    const STORAGE_KEY_TBL_KEYS_DISP_ORDER = 'tableKeysForDispOrder';

    // data.js読み込み完了後にdynamicTableを生成する
    loadScript(JSFILE_DATA, function() {
        logging('data.js', 'loading');
    });

    /**
     * srcの読み込みを待ってからcallbackを実行する
     */
    function loadScript(src, callback) {
        var done = false;
        var head = document.getElementsByTagName('head')[0];
        var script = document.createElement('script');
        script.src = src;
        head.appendChild(script);
        // Attach handlers for all browsers
        script.onload = script.onreadystatechange = function() {
            if (!done && (!this.readyState ||
                    this.readyState === "loaded" || this.readyState === "complete")) {
                done = true;
                callback();
                // Handle memory leak in IE
                script.onload = script.onreadystatechange = null;
                if (head && script.parentNode) {
                    head.removeChild(script);
                }
            }
        };
    }

    /**
     * ログUtil
     */
    function logging(processName, message) {
        console.log('[' + processName + '] ' + message);
    }

    /**
     * ログUtil(オブジェクトの内容出力)
     */
    function loggingObj(processName, object) {
        console.log('[' + processName + '] ');
        console.dir(object);
    }

    </script>
</body>